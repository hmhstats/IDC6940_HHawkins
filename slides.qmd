---
title: "A Statistical Analysis of Secondary Traumatic Stress (STS) and Teacher Attrition"
subtitle: "Using Binary Logistic Regression to Predict Teacher Attrition Based on Secondary Traumatic Stress (STS)"
author: "Hailee Hawkins (Advisors: Dr. Achraf Cohen, Dr. Melanie DiLoreto)"
date: '`r Sys.Date()`'
format:
  revealjs:
    css: styles.css
course: Capstone Projects in Data Science
bibliography: references.bib # file contains bibtex for references
#always_allow_html: true # this allows to get PDF with HTML features
self-contained: true
execute: 
  warning: false
  message: false
editor: 
  markdown: 
    wrap: 72
---

## Introduction {.smaller}

::: {.columns}

::: {.column width="40%"}
<img src="image4.jpg" width="80%" style="margin-bottom: 4px;" />
<div style="font-size: 0.75em; color: gray; margin-top: 2px;">
Image source: <a href="https://themindsjournal.com" target="_blank">The Mind's Journal</a>
</div>

<img src="image3.png" width="90%" style="margin-top: 20px; margin-bottom: 4px;" />
<div style="font-size: 0.75em; color: gray; margin-top: 2px;">
Image source: <a href="https://collidu.com" target="_blank">Collidu</a>
</div>
:::

::: {.column width="60%"}

**Background & Motivation**

- STS impacts trauma-exposed educators  
- Linked to burnout and attrition  
- Few predictive models exist  

**National Context - Teacher Attrition**  
(Source: NCES [@taie2023teacher])

- 16% left to retire  
- 15% for personal/life reasons (health, childcare)  
- 9% cited low salary  
- 12‚Äì19% moved outside education  
- 26‚Äì39% stayed in K‚Äì12 but changed roles  

:::

:::

## Research Questions and Objectives


::: {.columns}

::: {.column width="100%" .smaller}

üéØ **Objectives**

- Predict teacher attrition using binary logistic regression  
- Use STSS (Secondary Traumatic Stress Scale) scores  
- Identify which STS symptom contributes most to attrition  

‚ùì **Research Questions**

- Can STSS scores predict whether a teacher intends to leave?  
- Which symptom (intrusion, avoidance, arousal) has the strongest effect?

:::

:::

## Sample & Measurement: Secondary Traumatic Stress Scale (STSS)

::: columns

::: {.column width="40%"}

### Sample Overview

<div style="font-size: 0.75em; line-height: 1.3;">

- **N** = 104 teachers  
- **Measure**: STSS total and subscales  
- **% intending to leave**: 32.7%

</div>


```{r, warning=FALSE, echo=F, message=FALSE}
library(dplyr)
library(knitr)
library(readr)
library(kableExtra)

# Load your data
sts_data <- read_csv("sts_data.csv")

# Create summary table
summary_df <- sts_data %>%
  summarise(
    Mean = c(mean(stss_total_score, na.rm=TRUE),
             mean(intrusion_score, na.rm=TRUE),
             mean(avoidance_score, na.rm=TRUE),
             mean(arousal_score, na.rm=TRUE)),
    SD = c(sd(stss_total_score, na.rm=TRUE),
           sd(intrusion_score, na.rm=TRUE),
           sd(avoidance_score, na.rm=TRUE),
           sd(arousal_score, na.rm=TRUE)),
    Min = c(min(stss_total_score, na.rm=TRUE),
            min(intrusion_score, na.rm=TRUE),
            min(avoidance_score, na.rm=TRUE),
            min(arousal_score, na.rm=TRUE)),
    Max = c(max(stss_total_score, na.rm=TRUE),
            max(intrusion_score, na.rm=TRUE),
            max(avoidance_score, na.rm=TRUE),
            max(arousal_score, na.rm=TRUE))
  ) %>%
  mutate(Measure = c("STSS Total", "Intrusion", "Avoidance", "Arousal")) %>%
  select(Measure, Mean, SD, Min, Max)

# Render styled table - fills more of the column space
kable(summary_df, digits = 1, caption = "STSS Score Summary") %>%
  kable_styling(
    bootstrap_options = c("striped", "hover"),
    font_size = 22,              # Increase font size
    full_width = TRUE,           # Allow table to stretch
    position = "center"
  ) %>%
  row_spec(0, bold = TRUE) %>%
  column_spec(1, bold = TRUE)
```

:::

::: {.column width="60%"}

### About the STSS

<div style="font-size: 0.75em; line-height: 1.3;">

- 17-item self-report scale  
- Measures secondary traumatic stress  
- Subscales:  
  - **Intrusion** (e.g., unwanted thoughts)  
  - **Avoidance** (e.g., emotional numbing)  
  - **Arousal** (e.g., sleep issues)  
- Scale: 1 = Never to 5 = Very Often  
- **Example item**:  
  _‚ÄúMy heart starting pounding when I thought about my work with students.‚Äù_

</div>

:::

:::

## Exploratory Data Analysis {.smaller}

::: columns
::: {.column width="40%"}

### Key Observations

- STSS scores vary widely across the sample.
- Teachers intending to leave show higher scores across subscales.
- Attrition rates increase across quartiles.
- Strongest patterns are in **Total** and **Arousal** scores.

:::

::: {.column width="60%"}

```{r}
# Load required packages
library(ggplot2)
library(dplyr)
library(patchwork)

# Intent labels
sts_data$intent_label <- factor(sts_data$leave_teaching, levels = c(0, 1), labels = c("Stay", "Leave"))

# Custom theme to reduce whitespace
minimal_tight <- theme_minimal(base_size = 9) +
  theme(
    plot.margin = margin(2, 2, 2, 2),
    axis.title.x = element_text(margin = margin(t = 4)),
    axis.title.y = element_text(margin = margin(r = 4))
  )

# Function for stacked density + bar chart
plot_density_and_bar <- function(data, score_col, score_label) {
  # Density
  p_density <- ggplot(data, aes_string(x = score_col, fill = "intent_label")) +
    geom_density(alpha = 0.5) +
    xlim(0, 85) +
    scale_fill_manual(values = c("#a6bddb", "#2b8cbe")) +
    labs(title = paste("Density:", score_label), x = score_label, y = "Density", fill = "Intent") +
    minimal_tight +
    theme(legend.position = "none")
  
  # Quartile variable
  quartile_var <- paste0(score_col, "_quartile")
  data[[quartile_var]] <- cut(
    data[[score_col]],
    breaks = quantile(data[[score_col]], probs = seq(0, 1, 0.25), na.rm = TRUE),
    include.lowest = TRUE,
    labels = c("Q1", "Q2", "Q3", "Q4")
  )
  
  # Bar data
  bar_data <- data %>%
    group_by(!!sym(quartile_var)) %>%
    summarise(attrition_rate = mean(leave_teaching == 1, na.rm = TRUE)) %>%
    rename(quartile = !!sym(quartile_var))
  
  # Bar chart
  p_bar <- ggplot(bar_data, aes(x = quartile, y = attrition_rate)) +
    geom_bar(stat = "identity", fill = "#3182bd") +
    ylim(0, 1) +
    labs(title = paste("Attrition by", score_label, "Quartile"), x = NULL, y = "Proportion Leaving") +
    minimal_tight
  
  # Stack vertically with equal height and no excess margins
  p_density / p_bar + plot_layout(heights = c(1, 1)) & theme(plot.margin = margin(2, 2, 2, 2))
}

# Generate 4 sets of plots
p_total     <- plot_density_and_bar(sts_data, "stss_total_score", "Total STSS")
p_intrusion <- plot_density_and_bar(sts_data, "intrusion_score", "Intrusion")
p_avoidance <- plot_density_and_bar(sts_data, "avoidance_score", "Avoidance")
p_arousal   <- plot_density_and_bar(sts_data, "arousal_score", "Arousal")

# Combine into a tighter 2x2 grid
(p_total | p_intrusion) / (p_avoidance | p_arousal) +
  plot_layout(guides = "collect") +
  plot_annotation(theme = theme(plot.margin = margin(0, 0, 0, 0)))
```

:::

:::




## Methods

-   Detail the models or algorithms used.

-   Justify your choices based on the problem and data.



## Data Exploration and Visualization

-   Describe your data sources and collection process.

-   Present initial findings and insights through visualizations.

-   Highlight unexpected patterns or anomalies.

## Data Exploration and Visualization {.smaller}

A study was conducted to determine how...

```{r, warning=FALSE, echo=F, message=FALSE}
# loading packages 
library(tidyverse)
library(knitr)
library(ggthemes)
library(ggrepel)
library(dslabs)
```

```{r, warning=FALSE, echo=F}
# Load Data
#kable(head(murders))

ggplot1 = murders %>% ggplot(mapping = aes(x=population/10^6, y=total)) 

  ggplot1 + geom_point(aes(col=region), size = 4) +
  geom_text_repel(aes(label=abb)) +
  scale_x_log10() +
  scale_y_log10() +
  geom_smooth(formula = "y~x", method=lm,se = F)+
  xlab("Populations in millions (log10 scale)") + 
  ylab("Total number of murders (log10 scale)") +
  ggtitle("US Gun Murders in 2010") +
  scale_color_discrete(name = "Region")+
      theme_bw()
  

```

## Modeling and Results

-   Explain your data preprocessing and cleaning steps.

-   Present your key findings in a clear and concise manner.

-   Use visuals to support your claims.

-   **Tell a story about what the data reveals.**

```{r}

```

## Conclusion

-   Summarize your key findings.

-   Discuss the implications of your results.

## References
